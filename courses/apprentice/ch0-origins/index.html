<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 0: The Origins | The Apprentice's Path</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../shared/css/lesson-interactive.css">
</head>
<body data-course="apprentice" data-lesson="ch0-origins">
  <header class="header">
    <div class="header-content">
      <a href="../../index.html" class="logo">
        <div class="logo-icon">ğŸ›ï¸</div>
        <span>The Origins</span>
      </a>
      <nav class="nav-links">
        <a href="../index.html">â† Apprentice</a>
        <a href="index.html" class="active">Ch 0</a>
        <a href="../ch1-stone/">Ch 1: Stone</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="page-header">
      <div class="breadcrumb">
        <a href="../index.html">Apprentice</a>
        <span>/</span>
        <span>Chapter 0: The Origins</span>
      </div>
      <h1>ğŸ›ï¸ The Origins</h1>
      <p>Before you write your first line of code, journey back to where it all began. Discover how humanity learned to harness rocks, electricity, and magnetism to create the thinking machines we use today.</p>
    </div>

    <!-- Audio Info -->
    <section class="section audio-info-section">
      <div class="info-box compact">
        <div class="info-header">
          <span class="info-icon">ğŸ™ï¸</span>
          <div>
            <h4>Interactive Learning Experience</h4>
            <p>Watch diagrams come alive with AI narration â€¢ Click dots to jump â€¢ Test your understanding with quizzes</p>
          </div>
        </div>
        <div class="voice-options">
          <span class="voice-badge">ğŸ‘©â€ğŸ¤ Female Storyteller</span>
          <span class="voice-badge">ğŸ© Male UK Storyteller</span>
        </div>
      </div>
    </section>

    <!-- Story 1: The Three Forces -->
    <section class="section" id="three-forces-section">
      <h2>The Three Ancient Forces</h2>
      <p>Everything in computing comes down to three forces our ancestors discovered: Stone (Silicon), Lightning (Electricity), and Magnetism. Watch how these ancient elements combined to create modern computing.</p>
      
      <div class="diagram-container" id="three-forces-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ›ï¸ From Ancient Forces to Modern Computing</span>
        </div>
        <div id="three-forces-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="three-forces-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="three-forces-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="three-forces-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="three-forces-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="three-forces-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <div class="quiz-card" id="three-forces-quiz">
        <div class="quiz-header">
          <h4>ğŸ“ Check Your Understanding</h4>
          <div class="quiz-progress">
            <span class="answered">0</span>/<span class="total">3</span> answered
            <span class="score"></span>
          </div>
        </div>
        <div class="quiz-carousel"></div>
        <div class="quiz-nav">
          <button class="quiz-nav-btn prev" disabled>â† Prev</button>
          <div class="quiz-dots"></div>
          <button class="quiz-nav-btn next">Next â†’</button>
        </div>
      </div>
    </section>

    <!-- Story 2: Binary Language -->
    <section class="section" id="binary-section">
      <h2>The Language of Machines</h2>
      <p>With just 1s and 0s, computers can represent anything â€” numbers, letters, images, music, even this lesson you're reading right now. Learn how switches become the universal language of computing.</p>
      
      <div class="diagram-container" id="binary-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ”¢ Binary: The Universal Language</span>
        </div>
        <div id="binary-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="binary-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="binary-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="binary-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="binary-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="binary-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <div class="quiz-card" id="binary-quiz">
        <div class="quiz-header">
          <h4>ğŸ“ Check Your Understanding</h4>
          <div class="quiz-progress">
            <span class="answered">0</span>/<span class="total">3</span> answered
            <span class="score"></span>
          </div>
        </div>
        <div class="quiz-carousel"></div>
        <div class="quiz-nav">
          <button class="quiz-nav-btn prev" disabled>â† Prev</button>
          <div class="quiz-dots"></div>
          <button class="quiz-nav-btn next">Next â†’</button>
        </div>
      </div>
    </section>

    <!-- Story 3: Navigating Your Computer -->
    <section class="section" id="navigation-section">
      <h2>Navigating Your Computer</h2>
      <p>Computers store billions of files and need a way to organize them. Learn about file systems, paths, and the powerful terminal interface that every developer uses daily.</p>
      
      <div class="diagram-container" id="navigation-container">
        <div class="diagram-header">
          <span class="diagram-title">ğŸ§­ File Systems & The Terminal</span>
        </div>
        <div id="navigation-story" class="diagram-canvas storytelling"></div>
        
        <div class="diagram-story" id="navigation-story-caption">
          <div class="story-step">
            <div class="story-icon visible">ğŸš€</div>
            <div class="story-content">
              <div class="story-title visible">Ready to Explore</div>
              <div class="story-text visible">Click any progress dot below to jump to that step, or press Play to watch the full story unfold.</div>
              <div class="story-connection" style="display: none;">
                <span class="arrow">â†’</span>
                <span class="connection-text"></span>
              </div>
            </div>
          </div>
        </div>

        <div class="playback-controls">
          <div class="playback-left">
            <button class="diagram-btn play-btn" data-action="play">â–¶ Play</button>
          </div>
          <div class="playback-center">
            <div class="story-progress" id="navigation-story-progress"></div>
          </div>
          <div class="playback-right">
            <button class="diagram-btn small" data-action="fit" title="Fit to view">Fit</button>
            <button class="diagram-btn small" data-action="reset" title="Reset view">Reset</button>
          </div>
        </div>

        <div class="settings-bar">
          <div class="control-group">
            <label>â±ï¸</label>
            <select id="navigation-speed-select">
              <option value="1000">1s</option>
              <option value="2000" selected>2s</option>
              <option value="5000">5s</option>
              <option value="10000">10s</option>
            </select>
          </div>
          <div class="control-group">
            <button class="audio-toggle" id="navigation-audio-toggle" title="Toggle audio narration">
              <span class="audio-icon">ğŸ”Š</span>
            </button>
          </div>
          <div class="control-group">
            <label>ğŸ¤</label>
            <select id="navigation-voice-select" class="voice-select">
              <option value="">Loading...</option>
            </select>
          </div>
        </div>
      </div>

      <div class="quiz-card" id="navigation-quiz">
        <div class="quiz-header">
          <h4>ğŸ“ Check Your Understanding</h4>
          <div class="quiz-progress">
            <span class="answered">0</span>/<span class="total">3</span> answered
            <span class="score"></span>
          </div>
        </div>
        <div class="quiz-carousel"></div>
        <div class="quiz-nav">
          <button class="quiz-nav-btn prev" disabled>â† Prev</button>
          <div class="quiz-dots"></div>
          <button class="quiz-nav-btn next">Next â†’</button>
        </div>
      </div>
    </section>

    <!-- Next Steps -->
    <section class="section">
      <h2>Ready for Chapter 1?</h2>
      <p>You've learned the foundations that took humanity thousands of years to discover. Now let's dive into how computers remember things â€” variables, data types, and your first Python programs!</p>
      <div class="cards-grid" style="grid-template-columns: repeat(2, 1fr);">
        <a href="../ch1-stone/" class="card">
          <div class="card-icon">ğŸª¨</div>
          <h3>Chapter 1: The Stone Remembers</h3>
          <p>Learn about variables, data types, and write your first Python code.</p>
        </a>
        <a href="../index.html" class="card">
          <div class="card-icon">ğŸ“š</div>
          <h3>Course Overview</h3>
          <p>See all chapters in The Apprentice's Path.</p>
        </a>
      </div>
    </section>
  </main>

  <nav class="page-nav">
    <h4>On This Page</h4>
    <ul>
      <li><a href="#three-forces-section">The Three Forces</a></li>
      <li><a href="#binary-section">Binary Language</a></li>
      <li><a href="#navigation-section">Navigation</a></li>
    </ul>
  </nav>

  <button class="back-to-top" title="Back to top">â†‘</button>

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre/0.8.5/dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-cose-bilkent@4.1.0/cytoscape-cose-bilkent.min.js"></script>
  
  <!-- Interactive Engines -->
  <script src="../../shared/js/interactive/diagram-utils.js"></script>
  <script src="../../shared/js/interactive/audio-engine.js"></script>
  <script src="../../shared/js/interactive/storytelling-diagram.js"></script>
  <script src="../../shared/js/interactive/quiz-system.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Initialize page animations
      DiagramUtils.initPageAnimations();
      DiagramUtils.setupBackToTop();

      // Load story and quiz data from JSON
      const response = await fetch('story.json');
      const pageData = await response.json();

      // Create a shared audio engine pointing to the audio folder
      const audioEngine = new AudioNarrationEngine('audio');

      // ============================================
      // DIAGRAM ELEMENTS (Cytoscape data)
      // ============================================

      const diagramElements = {
        'three-forces': [
          // Central problem
          { data: { id: 'ancient-problem', label: 'ğŸ¤” The Problem', type: 'external', description: 'How do we calculate things faster?' } },
          // The three forces
          { data: { id: 'stone-silicon', label: 'ğŸª¨ Stone\n(Silicon)', type: 'concept', description: 'From abacus to silicon chips - the foundation' } },
          { data: { id: 'lightning-electricity', label: 'âš¡ Lightning\n(Electricity)', type: 'auth', description: 'The power source that brings machines to life' } },
          { data: { id: 'magnetism-memory', label: 'ğŸ§² Magnetism\n(Memory)', type: 'data', description: 'North or south, on or off - digital storage' } },
          // The breakthrough
          { data: { id: 'transistor', label: 'ğŸ”¬ Transistor\n(1947)', type: 'service', description: 'Tiny silicon switch - billions per chip' } },
          // Modern result
          { data: { id: 'modern-computing', label: 'ğŸ“± Modern\nComputing', type: 'page', description: '15 billion transistors in your pocket' } },
          // Edges
          { data: { source: 'ancient-problem', target: 'stone-silicon' } },
          { data: { source: 'ancient-problem', target: 'lightning-electricity' } },
          { data: { source: 'ancient-problem', target: 'magnetism-memory' } },
          { data: { source: 'stone-silicon', target: 'transistor' } },
          { data: { source: 'lightning-electricity', target: 'transistor' } },
          { data: { source: 'transistor', target: 'modern-computing' } },
          { data: { source: 'magnetism-memory', target: 'modern-computing' } }
        ],

        'binary': [
          { data: { id: 'switch', label: 'ğŸ’¡ Switch\nON / OFF', type: 'external', description: 'A transistor is just a tiny switch' } },
          { data: { id: 'binary-intro', label: '0ï¸âƒ£ Binary\n0 and 1', type: 'concept', description: 'ON = 1, OFF = 0 - two symbols only' } },
          { data: { id: 'positions', label: 'ğŸ“Š Positions\n8 4 2 1', type: 'data', description: 'Each position is a power of 2' } },
          { data: { id: 'conversion', label: 'ğŸ”„ Convert\n1010 = 10', type: 'service', description: 'Add up positions with 1s' } },
          { data: { id: 'everything-binary', label: 'ğŸŒ Everything\nis Binary', type: 'page', description: 'Text, images, music - all 0s and 1s' } },
          // Edges
          { data: { source: 'switch', target: 'binary-intro' } },
          { data: { source: 'binary-intro', target: 'positions' } },
          { data: { source: 'positions', target: 'conversion' } },
          { data: { source: 'conversion', target: 'everything-binary' } }
        ],

        'navigation': [
          { data: { id: 'library', label: 'ğŸ“š Library\nProblem', type: 'external', description: 'Millions of files need organization' } },
          { data: { id: 'folders', label: 'ğŸ“ Folders\n& Files', type: 'concept', description: 'Tree-like structure organizes everything' } },
          { data: { id: 'paths', label: 'ğŸ›¤ï¸ Paths\n/Users/You', type: 'data', description: 'Every file has an address' } },
          { data: { id: 'terminal', label: 'ğŸ–¥ï¸ Terminal\n$ _', type: 'service', description: 'Text interface to control your computer' } },
          { data: { id: 'commands', label: 'âŒ¨ï¸ Commands\npwd ls cd', type: 'auth', description: 'Essential navigation commands' } },
          // Edges
          { data: { source: 'library', target: 'folders' } },
          { data: { source: 'folders', target: 'paths' } },
          { data: { source: 'paths', target: 'terminal' } },
          { data: { source: 'terminal', target: 'commands' } }
        ]
      };

      // ============================================
      // INITIALIZE STORYTELLING DIAGRAMS
      // ============================================

      // Map story IDs to diagram element keys
      const storyToDiagram = {
        'three-forces-story': 'three-forces',
        'binary-story': 'binary',
        'navigation-story': 'navigation'
      };

      // Create storytelling diagrams for each story in the JSON
      pageData.stories.forEach(story => {
        const diagramKey = storyToDiagram[story.id];
        if (!diagramKey) return;

        const elements = diagramElements[diagramKey];
        if (!elements) return;

        new StorytellingDiagram(
          story.id,
          elements,
          story.steps,
          { audioEngine, storyId: story.id }
        );
      });

      // ============================================
      // INITIALIZE QUIZZES
      // ============================================

      // Map story IDs to quiz container IDs
      const storyToQuiz = {
        'three-forces-story': 'three-forces-quiz',
        'binary-story': 'binary-quiz',
        'navigation-story': 'navigation-quiz'
      };

      pageData.quizzes.forEach(quiz => {
        const containerId = storyToQuiz[quiz.storyId];
        if (!containerId) return;

        new Quiz(containerId, quiz.questions);
      });
    });
  </script>
</body>
</html>
