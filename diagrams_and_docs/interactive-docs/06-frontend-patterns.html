<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frontend Patterns - SWE Hackers Interactive Docs</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="shared/styles.css">
</head>
<body>
  <header class="header">
    <div class="header-content">
      <a href="index.html" class="logo">
        <div class="logo-icon">‚ö°</div>
        <span>SWE Hackers Docs</span>
      </a>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="00-overview.html">Overview</a>
        <a href="01-service-layer.html">Services</a>
        <a href="06-frontend-patterns.html" class="active">Frontend</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="page-header">
      <div class="breadcrumb">
        <a href="index.html">Docs</a>
        <span>/</span>
        <span>Frontend Patterns</span>
      </div>
      <h1>üé® Frontend Patterns</h1>
      <p>CSS architecture, UI components, and animation patterns</p>
    </div>

    <!-- CSS Architecture -->
    <section class="section">
      <h2>CSS File Organization</h2>
      <p>Each page type has its own CSS file in <code>/shared/css/</code>. Files are loaded based on page type to minimize unused CSS.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">CSS File to Page Mapping</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="css-mapping" class="diagram-canvas"></div>
        <div class="diagram-legend">
          <div class="legend-item">
            <div class="legend-dot service"></div>
            <span>CSS File</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot page"></div>
            <span>Page Type</span>
          </div>
        </div>
        <div class="diagram-instructions">
          <span>üñ±Ô∏è Click a CSS file to see which pages use it</span>
        </div>
      </div>
    </section>

    <!-- Design System -->
    <section class="section">
      <h2>Design System Variables</h2>
      <p>All colors, spacing, and typography are defined as CSS custom properties for consistency.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Design Token Categories</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-layout="concentric">Concentric</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="design-tokens" class="diagram-canvas large"></div>
        <div class="diagram-legend">
          <div class="legend-item">
            <div class="legend-dot service"></div>
            <span>Category</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot page"></div>
            <span>Token</span>
          </div>
        </div>
        <div class="diagram-instructions">
          <span>üñ±Ô∏è Click a category to see its tokens</span>
        </div>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">CSS</span>
          <button class="code-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('pre').textContent)">Copy</button>
        </div>
        <pre><code>:root {
  /* Backgrounds */
  --bg-primary: #0a0a0f;
  --bg-secondary: #12121a;
  --bg-card: #16162a;
  
  /* Accents */
  --accent-primary: #7986cb;
  --accent-secondary: #4db6ac;
  --accent-success: #66bb6a;
  
  /* Typography */
  --font-sans: 'Inter', sans-serif;
  --font-display: 'Space Grotesk', sans-serif;
}</code></pre>
      </div>
    </section>

    <!-- Component Architecture -->
    <section class="section">
      <h2>Component Structure</h2>
      <p>UI components follow a consistent structure with modular CSS classes.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Component Hierarchy</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="component-hierarchy" class="diagram-canvas"></div>
        <div class="diagram-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background: #42a5f5;"></div>
            <span>Container</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot service"></div>
            <span>Element</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot page"></div>
            <span>Modifier</span>
          </div>
        </div>
        <div class="diagram-instructions">
          <span>üîç Hover to see the CSS class names</span>
        </div>
      </div>
    </section>

    <!-- Animation System -->
    <section class="section">
      <h2>Animation System</h2>
      <p>Animations are powered by Anime.js for complex sequences and CSS transitions for simple interactions.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Animation Trigger Flow</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="animation-flow" class="diagram-canvas large"></div>
        <div class="diagram-legend">
          <div class="legend-item">
            <div class="legend-dot external"></div>
            <span>Trigger</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot service"></div>
            <span>Handler</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot page"></div>
            <span>Animation</span>
          </div>
        </div>
        <div class="diagram-instructions">
          <span>üñ±Ô∏è Click a trigger to see its animation chain</span>
        </div>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">JavaScript</span>
          <button class="code-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('pre').textContent)">Copy</button>
        </div>
        <pre><code>// Scroll animation pattern
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      anime({
        targets: entry.target.querySelectorAll('.fade-in'),
        opacity: [0, 1],
        translateY: [20, 0],
        duration: 800,
        easing: 'easeOutExpo',
        delay: anime.stagger(100)
      });
    }
  });
}, { threshold: 0.1 });</code></pre>
      </div>
    </section>

    <!-- Layout Patterns -->
    <section class="section">
      <h2>Layout Patterns</h2>
      <p>Common layout patterns used across different page types.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Page Layout Components</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="layout-patterns" class="diagram-canvas large"></div>
        <div class="diagram-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background: #42a5f5;"></div>
            <span>Layout</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot service"></div>
            <span>Component</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot page"></div>
            <span>Used By</span>
          </div>
        </div>
        <div class="diagram-instructions">
          <span>üñ±Ô∏è Click a layout to see its components</span>
        </div>
      </div>
    </section>

    <!-- Interactive Components -->
    <section class="section">
      <h2>Interactive Components</h2>
      <p>Quiz, drag-drop, and other interactive components follow consistent patterns.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Quiz Component Structure</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="quiz-structure" class="diagram-canvas"></div>
      </div>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">HTML</span>
          <button class="code-copy" onclick="navigator.clipboard.writeText(this.closest('.code-block').querySelector('pre').textContent)">Copy</button>
        </div>
        <pre><code>&lt;div class="quiz-container" data-answer="B"&gt;
  &lt;h3 class="quiz-question"&gt;What is...?&lt;/h3&gt;
  &lt;div class="quiz-options"&gt;
    &lt;div class="quiz-option" data-value="A"&gt;Option A&lt;/div&gt;
    &lt;div class="quiz-option" data-value="B"&gt;Option B&lt;/div&gt;
    &lt;div class="quiz-option" data-value="C"&gt;Option C&lt;/div&gt;
  &lt;/div&gt;
  &lt;button class="quiz-btn"&gt;Check Answer&lt;/button&gt;
  &lt;div class="quiz-feedback"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
      </div>
    </section>

    <!-- Responsive Patterns -->
    <section class="section">
      <h2>Responsive Breakpoints</h2>
      <p>Mobile-first responsive design with consistent breakpoints.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Breakpoint System</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-layout="hierarchicalLR">Horizontal</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="breakpoints" class="diagram-canvas"></div>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Breakpoint</th>
              <th>Size</th>
              <th>Typical Changes</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Mobile</strong></td>
              <td>&lt; 768px</td>
              <td>Single column, hidden sidebar, stacked nav</td>
            </tr>
            <tr>
              <td><strong>Tablet</strong></td>
              <td>768px - 1024px</td>
              <td>Two columns, collapsible sidebar</td>
            </tr>
            <tr>
              <td><strong>Desktop</strong></td>
              <td>1024px - 1280px</td>
              <td>Full layout, visible sidebar</td>
            </tr>
            <tr>
              <td><strong>Large</strong></td>
              <td>&gt; 1280px</td>
              <td>Max-width containers, extra spacing</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Dark Theme -->
    <section class="section">
      <h2>Dark Theme</h2>
      <p>The platform uses a dark theme by default with carefully chosen contrast ratios for accessibility.</p>
      
      <div class="diagram-container">
        <div class="diagram-header">
          <span class="diagram-title">Color Contrast Hierarchy</span>
          <div class="diagram-controls">
            <button class="diagram-btn" data-action="fit">Fit</button>
            <button class="diagram-btn" data-action="reset">Reset</button>
            <button class="diagram-btn" data-action="export">Export PNG</button>
          </div>
        </div>
        <div id="color-contrast" class="diagram-canvas"></div>
        <div class="diagram-instructions">
          <span>üîç Hover to see contrast ratios</span>
        </div>
      </div>

      <div class="info-box success">
        <h4>‚úÖ WCAG AA Compliance</h4>
        <p>All text colors meet WCAG AA contrast requirements (4.5:1 for normal text, 3:1 for large text) against their typical backgrounds.</p>
      </div>
    </section>

    <!-- Navigation -->
    <section class="section">
      <h2>Related Documentation</h2>
      <div class="cards-grid" style="grid-template-columns: repeat(2, 1fr);">
        <a href="02-page-types.html" class="card">
          <div class="card-icon">üìÑ</div>
          <h3>Page Types</h3>
          <p>See which CSS files each page type loads.</p>
        </a>
        <a href="05-progress-tracking.html" class="card">
          <div class="card-icon">üìä</div>
          <h3>Progress Tracking</h3>
          <p>How progress UI components are updated.</p>
        </a>
      </div>
    </section>
  </main>

  <nav class="page-nav">
    <h4>On This Page</h4>
    <ul>
      <li><a href="#css-mapping">CSS Files</a></li>
      <li><a href="#design-tokens">Design System</a></li>
      <li><a href="#component-hierarchy">Components</a></li>
      <li><a href="#animation-flow">Animations</a></li>
      <li><a href="#layout-patterns">Layouts</a></li>
      <li><a href="#quiz-structure">Interactive</a></li>
      <li><a href="#breakpoints">Responsive</a></li>
      <li><a href="#color-contrast">Theme</a></li>
    </ul>
  </nav>

  <button class="back-to-top" title="Back to top">‚Üë</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre/0.8.5/dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-cose-bilkent@4.1.0/cytoscape-cose-bilkent.min.js"></script>
  <script src="shared/diagram-utils.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      DiagramUtils.initPageAnimations();
      DiagramUtils.setupBackToTop();

      // ============================================
      // DIAGRAM 1: CSS Mapping
      // ============================================
      const cssElements = [
        // CSS files
        { data: { id: 'marketing-css', label: 'marketing.css', type: 'service', description: 'Landing and catalog styles' } },
        { data: { id: 'auth-css', label: 'auth.css', type: 'service', description: 'Login and register styles' } },
        { data: { id: 'dashboard-css', label: 'dashboard.css', type: 'service', description: 'Dashboard layout styles' } },
        { data: { id: 'lesson-css', label: 'lesson.css', type: 'service', description: 'Lesson content styles' } },
        { data: { id: 'blog-css', label: 'blog.css', type: 'service', description: 'Blog article styles' } },
        
        // Pages
        { data: { id: 'landing', label: 'Landing Page', type: 'page', description: '/' } },
        { data: { id: 'catalog', label: 'Catalog', type: 'page', description: '/catalog/' } },
        { data: { id: 'login', label: 'Login', type: 'page', description: '/auth/login' } },
        { data: { id: 'register', label: 'Register', type: 'page', description: '/auth/register' } },
        { data: { id: 'dashboard', label: 'Dashboard', type: 'page', description: '/dashboard/' } },
        { data: { id: 'lesson', label: 'Lessons', type: 'page', description: '/apprentice/ch1/' } },
        { data: { id: 'blog', label: 'Blog', type: 'page', description: '/blog/' } },
        
        // Edges
        { data: { source: 'marketing-css', target: 'landing' } },
        { data: { source: 'marketing-css', target: 'catalog' } },
        { data: { source: 'auth-css', target: 'login' } },
        { data: { source: 'auth-css', target: 'register' } },
        { data: { source: 'dashboard-css', target: 'dashboard' } },
        { data: { source: 'lesson-css', target: 'lesson' } },
        { data: { source: 'blog-css', target: 'blog' } },
      ];

      const cyCss = DiagramUtils.createDiagram('css-mapping', cssElements, {
        layout: DiagramUtils.LAYOUTS.hierarchical
      });
      DiagramUtils.setupDiagramControls(cyCss, 'css-mapping');

      // ============================================
      // DIAGRAM 2: Design Tokens
      // ============================================
      const tokenElements = [
        // Root
        { data: { id: 'root', label: ':root', type: 'service', description: 'CSS custom properties' } },
        
        // Categories
        { data: { id: 'colors', label: 'Colors', type: 'service', description: 'Color palette' } },
        { data: { id: 'spacing', label: 'Spacing', type: 'service', description: 'Margin/padding scale' } },
        { data: { id: 'typography', label: 'Typography', type: 'service', description: 'Fonts and sizes' } },
        { data: { id: 'effects', label: 'Effects', type: 'service', description: 'Shadows and transitions' } },
        
        // Color tokens
        { data: { id: 'bg-primary', label: '--bg-primary', type: 'page', description: '#0a0a0f' } },
        { data: { id: 'bg-secondary', label: '--bg-secondary', type: 'page', description: '#12121a' } },
        { data: { id: 'accent-primary', label: '--accent-primary', type: 'page', description: '#7986cb' } },
        { data: { id: 'accent-success', label: '--accent-success', type: 'page', description: '#66bb6a' } },
        
        // Spacing tokens
        { data: { id: 'spacing-sm', label: '--spacing-sm', type: 'page', description: '0.5rem' } },
        { data: { id: 'spacing-md', label: '--spacing-md', type: 'page', description: '1rem' } },
        { data: { id: 'spacing-lg', label: '--spacing-lg', type: 'page', description: '1.5rem' } },
        
        // Typography tokens
        { data: { id: 'font-sans', label: '--font-sans', type: 'page', description: 'Inter' } },
        { data: { id: 'font-display', label: '--font-display', type: 'page', description: 'Space Grotesk' } },
        
        // Effect tokens
        { data: { id: 'shadow-md', label: '--shadow-md', type: 'page', description: 'Medium shadow' } },
        { data: { id: 'transition', label: '--transition-medium', type: 'page', description: '300ms ease' } },
        
        // Edges
        { data: { source: 'root', target: 'colors' } },
        { data: { source: 'root', target: 'spacing' } },
        { data: { source: 'root', target: 'typography' } },
        { data: { source: 'root', target: 'effects' } },
        { data: { source: 'colors', target: 'bg-primary' } },
        { data: { source: 'colors', target: 'bg-secondary' } },
        { data: { source: 'colors', target: 'accent-primary' } },
        { data: { source: 'colors', target: 'accent-success' } },
        { data: { source: 'spacing', target: 'spacing-sm' } },
        { data: { source: 'spacing', target: 'spacing-md' } },
        { data: { source: 'spacing', target: 'spacing-lg' } },
        { data: { source: 'typography', target: 'font-sans' } },
        { data: { source: 'typography', target: 'font-display' } },
        { data: { source: 'effects', target: 'shadow-md' } },
        { data: { source: 'effects', target: 'transition' } },
      ];

      const cyTokens = DiagramUtils.createDiagram('design-tokens', tokenElements, {
        layout: {
          name: 'cose',
          padding: 40,
          nodeRepulsion: 5000,
          idealEdgeLength: 70,
          animate: false
        }
      });
      DiagramUtils.setupDiagramControls(cyTokens, 'design-tokens');

      // ============================================
      // DIAGRAM 3: Component Hierarchy
      // ============================================
      const componentElements = [
        // Cards
        { data: { id: 'card', label: '.card', type: 'ui', description: 'Card container' } },
        { data: { id: 'card-header', label: '.card-header', type: 'service', description: 'Card header area' } },
        { data: { id: 'card-content', label: '.card-content', type: 'service', description: 'Card main content' } },
        { data: { id: 'card-footer', label: '.card-footer', type: 'service', description: 'Card actions area' } },
        { data: { id: 'card-hover', label: ':hover', type: 'page', description: 'Hover state' } },
        
        // Buttons
        { data: { id: 'btn', label: '.btn', type: 'ui', description: 'Button base' } },
        { data: { id: 'btn-primary', label: '.btn-primary', type: 'page', description: 'Primary variant' } },
        { data: { id: 'btn-secondary', label: '.btn-secondary', type: 'page', description: 'Secondary variant' } },
        
        // Progress
        { data: { id: 'progress', label: '.progress-bar', type: 'ui', description: 'Progress container' } },
        { data: { id: 'progress-fill', label: '.progress-fill', type: 'service', description: 'Fill element' } },
        
        // Edges
        { data: { source: 'card', target: 'card-header' } },
        { data: { source: 'card', target: 'card-content' } },
        { data: { source: 'card', target: 'card-footer' } },
        { data: { source: 'card', target: 'card-hover' } },
        { data: { source: 'btn', target: 'btn-primary' } },
        { data: { source: 'btn', target: 'btn-secondary' } },
        { data: { source: 'progress', target: 'progress-fill' } },
      ];

      const cyComponent = DiagramUtils.createDiagram('component-hierarchy', componentElements, {
        layout: DiagramUtils.LAYOUTS.hierarchical
      });
      DiagramUtils.setupDiagramControls(cyComponent, 'component-hierarchy');

      // ============================================
      // DIAGRAM 4: Animation Flow
      // ============================================
      const animationElements = [
        // Triggers
        { data: { id: 'page-load', label: 'Page Load', type: 'external', description: 'DOMContentLoaded' } },
        { data: { id: 'scroll', label: 'Scroll', type: 'external', description: 'IntersectionObserver' } },
        { data: { id: 'hover', label: 'Hover', type: 'external', description: 'mouseenter/mouseleave' } },
        { data: { id: 'click', label: 'Click', type: 'external', description: 'User clicks element' } },
        
        // Handlers
        { data: { id: 'anime-js', label: 'Anime.js', type: 'service', description: 'Complex animations' } },
        { data: { id: 'css-trans', label: 'CSS Transitions', type: 'service', description: 'Simple transitions' } },
        { data: { id: 'observer', label: 'IntersectionObserver', type: 'service', description: 'Visibility detection' } },
        
        // Animations
        { data: { id: 'fade-in', label: 'Fade In', type: 'page', description: 'opacity 0‚Üí1, translateY' } },
        { data: { id: 'stagger', label: 'Stagger', type: 'page', description: 'Delayed sequence' } },
        { data: { id: 'scale', label: 'Scale', type: 'page', description: 'transform: scale()' } },
        { data: { id: 'slide', label: 'Slide', type: 'page', description: 'translateX/Y' } },
        { data: { id: 'color', label: 'Color Change', type: 'page', description: 'background/border' } },
        
        // Edges
        { data: { source: 'page-load', target: 'anime-js' } },
        { data: { source: 'scroll', target: 'observer' } },
        { data: { source: 'observer', target: 'anime-js' } },
        { data: { source: 'hover', target: 'css-trans' } },
        { data: { source: 'click', target: 'anime-js' } },
        { data: { source: 'anime-js', target: 'fade-in' } },
        { data: { source: 'anime-js', target: 'stagger' } },
        { data: { source: 'anime-js', target: 'slide' } },
        { data: { source: 'css-trans', target: 'scale' } },
        { data: { source: 'css-trans', target: 'color' } },
      ];

      const cyAnimation = DiagramUtils.createDiagram('animation-flow', animationElements, {
        layout: {
          name: 'dagre',
          rankDir: 'TB',
          nodeSep: 40,
          rankSep: 60,
          padding: 20
        }
      });
      DiagramUtils.setupDiagramControls(cyAnimation, 'animation-flow');

      // ============================================
      // DIAGRAM 5: Layout Patterns
      // ============================================
      const layoutElements = [
        // Layouts
        { data: { id: 'dashboard-layout', label: 'Dashboard Layout', type: 'ui', description: 'Sidebar + Main' } },
        { data: { id: 'lesson-layout', label: 'Lesson Layout', type: 'ui', description: 'Content + Progress' } },
        { data: { id: 'marketing-layout', label: 'Marketing Layout', type: 'ui', description: 'Full-width sections' } },
        { data: { id: 'auth-layout', label: 'Auth Layout', type: 'ui', description: 'Centered form' } },
        
        // Components
        { data: { id: 'sidebar', label: 'Sidebar', type: 'service', description: 'Fixed 240px navigation' } },
        { data: { id: 'main-content', label: 'Main Content', type: 'service', description: 'Flex-grow area' } },
        { data: { id: 'header', label: 'Fixed Header', type: 'service', description: '60px top bar' } },
        { data: { id: 'progress-nav', label: 'Progress Nav', type: 'service', description: 'Right sidebar tracker' } },
        { data: { id: 'hero', label: 'Hero Section', type: 'service', description: 'Full-width intro' } },
        { data: { id: 'card-grid', label: 'Card Grid', type: 'service', description: 'Auto-fill grid' } },
        { data: { id: 'form-card', label: 'Form Card', type: 'service', description: 'Centered max-width' } },
        
        // Used by
        { data: { id: 'pg-dashboard', label: 'Dashboard', type: 'page', description: '/dashboard/' } },
        { data: { id: 'pg-lesson', label: 'Lessons', type: 'page', description: '/apprentice/*' } },
        { data: { id: 'pg-landing', label: 'Landing', type: 'page', description: '/' } },
        { data: { id: 'pg-auth', label: 'Auth Pages', type: 'page', description: '/auth/*' } },
        
        // Layout to component
        { data: { source: 'dashboard-layout', target: 'sidebar' } },
        { data: { source: 'dashboard-layout', target: 'main-content' } },
        { data: { source: 'lesson-layout', target: 'header' } },
        { data: { source: 'lesson-layout', target: 'main-content' } },
        { data: { source: 'lesson-layout', target: 'progress-nav' } },
        { data: { source: 'marketing-layout', target: 'hero' } },
        { data: { source: 'marketing-layout', target: 'card-grid' } },
        { data: { source: 'auth-layout', target: 'form-card' } },
        
        // Layout to page
        { data: { source: 'dashboard-layout', target: 'pg-dashboard' } },
        { data: { source: 'lesson-layout', target: 'pg-lesson' } },
        { data: { source: 'marketing-layout', target: 'pg-landing' } },
        { data: { source: 'auth-layout', target: 'pg-auth' } },
      ];

      const cyLayout = DiagramUtils.createDiagram('layout-patterns', layoutElements, {
        layout: {
          name: 'cose',
          padding: 40,
          nodeRepulsion: 5000,
          idealEdgeLength: 80,
          animate: false
        }
      });
      DiagramUtils.setupDiagramControls(cyLayout, 'layout-patterns');

      // ============================================
      // DIAGRAM 6: Quiz Structure
      // ============================================
      const quizElements = [
        { data: { id: 'container', label: '.quiz-container', type: 'ui', description: 'data-answer attribute' } },
        { data: { id: 'question', label: '.quiz-question', type: 'service', description: 'Question text' } },
        { data: { id: 'options', label: '.quiz-options', type: 'service', description: 'Options container' } },
        { data: { id: 'option', label: '.quiz-option', type: 'service', description: 'data-value attribute' } },
        { data: { id: 'btn', label: '.quiz-btn', type: 'service', description: 'Submit button' } },
        { data: { id: 'feedback', label: '.quiz-feedback', type: 'service', description: 'Result message' } },
        
        // States
        { data: { id: 'selected', label: '.selected', type: 'page', description: 'User selected' } },
        { data: { id: 'correct', label: '.correct', type: 'page', description: 'Correct answer' } },
        { data: { id: 'incorrect', label: '.incorrect', type: 'page', description: 'Wrong answer' } },
        
        { data: { source: 'container', target: 'question' } },
        { data: { source: 'container', target: 'options' } },
        { data: { source: 'container', target: 'btn' } },
        { data: { source: 'container', target: 'feedback' } },
        { data: { source: 'options', target: 'option' } },
        { data: { source: 'option', target: 'selected' } },
        { data: { source: 'option', target: 'correct' } },
        { data: { source: 'option', target: 'incorrect' } },
      ];

      const cyQuiz = DiagramUtils.createDiagram('quiz-structure', quizElements, {
        layout: DiagramUtils.LAYOUTS.hierarchical
      });
      DiagramUtils.setupDiagramControls(cyQuiz, 'quiz-structure');

      // ============================================
      // DIAGRAM 7: Breakpoints
      // ============================================
      const breakpointElements = [
        { data: { id: 'mobile', label: 'Mobile', type: 'service', description: '< 768px' } },
        { data: { id: 'tablet', label: 'Tablet', type: 'service', description: '768px - 1024px' } },
        { data: { id: 'desktop', label: 'Desktop', type: 'service', description: '1024px - 1280px' } },
        { data: { id: 'large', label: 'Large', type: 'service', description: '> 1280px' } },
        
        // Changes
        { data: { id: 'single-col', label: 'Single Column', type: 'page', description: 'Stack content' } },
        { data: { id: 'hide-sidebar', label: 'Hide Sidebar', type: 'page', description: 'Collapse nav' } },
        { data: { id: 'two-col', label: 'Two Columns', type: 'page', description: 'Grid layout' } },
        { data: { id: 'full-layout', label: 'Full Layout', type: 'page', description: 'All visible' } },
        { data: { id: 'max-width', label: 'Max Width', type: 'page', description: 'Container limit' } },
        
        { data: { source: 'mobile', target: 'tablet' } },
        { data: { source: 'tablet', target: 'desktop' } },
        { data: { source: 'desktop', target: 'large' } },
        { data: { source: 'mobile', target: 'single-col' } },
        { data: { source: 'mobile', target: 'hide-sidebar' } },
        { data: { source: 'tablet', target: 'two-col' } },
        { data: { source: 'desktop', target: 'full-layout' } },
        { data: { source: 'large', target: 'max-width' } },
      ];

      const cyBreakpoints = DiagramUtils.createDiagram('breakpoints', breakpointElements, {
        layout: DiagramUtils.LAYOUTS.hierarchical
      });
      DiagramUtils.setupDiagramControls(cyBreakpoints, 'breakpoints');

      // ============================================
      // DIAGRAM 8: Color Contrast
      // ============================================
      const contrastElements = [
        // Backgrounds
        { data: { id: 'bg-primary', label: 'bg-primary', type: 'data', description: '#0a0a0f (darkest)' } },
        { data: { id: 'bg-secondary', label: 'bg-secondary', type: 'data', description: '#12121a' } },
        { data: { id: 'bg-card', label: 'bg-card', type: 'data', description: '#16162a' } },
        
        // Text
        { data: { id: 'text-primary', label: 'text-primary', type: 'service', description: '#e8e8f0 (15.2:1)' } },
        { data: { id: 'text-secondary', label: 'text-secondary', type: 'service', description: '#a8a8b8 (8.5:1)' } },
        { data: { id: 'text-muted', label: 'text-muted', type: 'service', description: '#6a6a80 (4.6:1)' } },
        
        // Accents
        { data: { id: 'accent-primary', label: 'accent-primary', type: 'page', description: '#7986cb (6.8:1)' } },
        { data: { id: 'accent-success', label: 'accent-success', type: 'page', description: '#66bb6a (8.1:1)' } },
        { data: { id: 'accent-error', label: 'accent-error', type: 'page', description: '#ef5350 (5.2:1)' } },
        
        // Pairs
        { data: { source: 'bg-primary', target: 'text-primary' } },
        { data: { source: 'bg-primary', target: 'text-secondary' } },
        { data: { source: 'bg-primary', target: 'text-muted' } },
        { data: { source: 'bg-card', target: 'accent-primary' } },
        { data: { source: 'bg-card', target: 'accent-success' } },
        { data: { source: 'bg-card', target: 'accent-error' } },
      ];

      const cyContrast = DiagramUtils.createDiagram('color-contrast', contrastElements, {
        layout: {
          name: 'cose',
          padding: 40,
          nodeRepulsion: 4000,
          idealEdgeLength: 70,
          animate: false
        }
      });
      DiagramUtils.setupDiagramControls(cyContrast, 'color-contrast');
    });
  </script>
</body>
</html>
